<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mushroom Project</title>
    <link rel="stylesheet" href="mushroomStyle.css">
</head>
<body>
<fieldset>
<b><h1>Mushroom Information</h1></b>
<form id="mushroomForm" action="/upload" method="post">

        <div>
            <b><h3><label for="picInput">Eat the Mushroom Maybe?</label></h3></b>
            <br>
            <input type="file" id="picInput" name="picInput" accept="image/*" required>
        </div>
        <br>
        <div>
            <button type="submit">Upload</button>
        </div>
    </fieldset>

</form>

<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <h2>Mushroom Details</h2>

        {% if prediction %}
        <table>
            <tr>
                
                <th>Edible</th>
                <th>Confidence (%)</th>
            </tr>
            <tr>
                <td>{{ prediction['Edibility'] }}</td>
                <td>{{ (prediction['Probability']) | round(2) }}</td>
            </tr>
            
            
        </table>
    </div>
</div>

<script>
    var modal = document.getElementById("myModal");

 
    var span = document.getElementById("closeModal");


    var form = document.getElementById("mushroomForm");

   
    form.onsubmit = function(event) {
        event.preventDefault(); 
        modal.style.display = "block"; 
    }

    
    span.onclick = function() {
        modal.style.display = "none";
    }

    
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

<button id="aboutButton" style="background-color: purple; color: white; padding: 10px; position: absolute; right: 90px; top: 75px;">About App</button>

<div id="infoPopup" class="popup">
    <div class="popup-content">
        <span class="close" id="closePopup">&times;</span>
        <h2>About This App</h2>
        <p>This app helps you identify if your mushroom is edible or not. It also gives the probablility that it's that its edibility.
             This is not a completely accurate prediction as the model its still under training.
        </p>
        <p>
            Ex: If its edible it will give the probablity its edible. if its not edible, it gives the probablility its not edible.
        </p>

    </div>
</div>



<script>
        document.addEventListener("DOMContentLoaded", function() {
            const aboutButton = document.getElementById("aboutButton");
            const popup = document.getElementById("infoPopup");
            const closePopup = document.getElementById("closePopup");

   
            aboutButton.onclick = function() {
                popup.style.display = "block";
            };


            closePopup.onclick = function() {
                popup.style.display = "none";
            };


            window.onclick = function(event) {
                if (event.target == popup) {
                    popup.style.display = "none";
                }
            };
            
        });
</script>        

